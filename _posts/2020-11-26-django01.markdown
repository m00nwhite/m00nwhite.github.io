---
layout: post
title:  "Django笔记：2.视图和URL配置"
date:   2020-11-26 06:24:34 +0800
categories: web python django
---

## 添加views视图
工程目录下新建一个views.py，添加如下内容

```python
from django.http import HttpResponse

def hello(request):
    return HttpResponse("Hello Django!")
```

urls.py文件中添加如下内容：
```python
 
from django.contrib import admin
from django.urls import path
from django.conf.urls import url

from . import views

urlpatterns = [
    path('admin/', admin.site.urls),
    url('^$', views.hello),
    url('hello/', views.hello),
]
```

浏览器访问`localhost:8080`或者`localhost:8080/hello`查看效果：
![](http://yinyang.space/img/20201126_django1_1.png)


项目目录
```
$ tree
.
|-- HelloWorld                # 项目容器
|   |-- __init__.py           # 一个空文件，告诉 Python 该目录是一个 Python 包
|   |-- settings.py           # 项目的设置/配置文件
|   |-- urls.py               # url 配置 
|   |-- views.py              # 视图文件
|   |-- wsgi.py               # 一个 ASGI 兼容的 Web 服务器的入口，以便运行你的项目。
`-- manage.py                 # 一个实用的命令行工具，可让你以各种方式与该 Django 项目进行交互
```


## 添加templates模版
在templates目录下新建一个about.html，添加如下内容：
```
{{ about }}
```

在views.py中添加如下代码：
```python
from django.shortcuts import render

def about(request):
    context = {}
    context['about'] = 'Hello Django in the about page!'
    return render(request, 'about.html', context)
```

urls.py中添加映射
```python
urlpatterns = [
    ...
    path('about/', views.about),
]
```

访问localhost:8000/about，可以看到模版中的内容被view的内容替换了。
![](http://yinyang.space/img/20201126_django1_2.png)


